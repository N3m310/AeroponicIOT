<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng điều khiển Smart Farm IoT</title>
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <header class="app-header">
        <div class="header-main">
            <div class="title-wrap">
                <h1>Quản lý chung khu vườn</h1>
                <p>Dữ liệu thông minh cho vụ mùa bội thu.</p>
            </div>
            <div class="header-controls">
                <button id="devicesBtn" class="btn-primary" onclick="goToDevices()">Thiết bị</button>
                <button id="automationBtn" class="btn-primary" onclick="goToAutomation()">Tự động hóa</button>
                <button id="chartsBtn" class="btn-primary" onclick="goToCharts()">Phân tích</button>
                <button id="refreshBtn" class="btn-primary">Làm mới</button>
            </div>
        </div>
        <div class="status-row">
            <span id="lastUpdate">Cập nhật lần cuối: Chưa có</span>
        </div>
    </header>

    <main class="dashboard-main">
        <section class="zone-section">
            <div id="zoneTabs" class="zone-tabs"></div>
        </section>

        <section class="stats-strip">
            <div class="stat-item">
                <span class="stat-value" id="totalDevices">0</span>
                <span class="stat-label">Tổng thiết bị</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="activeDevices">0</span>
                <span class="stat-label">Đang hoạt động</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="activeAlerts">0</span>
                <span class="stat-label">Cảnh báo</span>
            </div>
        </section>

        <section>
            <h2 class="section-title">Cảm biến chính</h2>
            <div id="sensorQuickGrid" class="quick-grid"></div>
        </section>

        <section>
            <h2 class="section-title">Điều khiển nhanh</h2>
            <div id="actuatorQuickGrid" class="quick-grid"></div>
        </section>

        <section>
            <h2 class="section-title">Thiết bị</h2>
            <div id="devicesContainer" class="devices-grid"></div>
        </section>

        <section class="grid-two">
            <article class="card">
                <h2>Cảnh báo đang hoạt động</h2>
                <div id="alertsContainer" class="alerts-list"></div>
            </article>

            <article class="card">
                <h2>Điều khiển thủ công</h2>
                <form id="controlForm" class="control-form">
                    <div class="form-group">
                        <label for="deviceSelect">Thiết bị:</label>
                        <select id="deviceSelect" name="deviceSelect" required>
                            <option value="">Chọn thiết bị</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="actuatorSelect">Thiết bị chấp hành:</label>
                        <select id="actuatorSelect" name="actuatorSelect" required>
                            <option value="">Chọn thiết bị</option>
                            <option value="0">Bơm</option>
                            <option value="1">Quạt</option>
                            <option value="2">Đèn</option>
                            <option value="3">Sưởi</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="actionSelect">Hành động:</label>
                        <select id="actionSelect" name="actionSelect" required>
                            <option value="">Chọn hành động</option>
                            <option value="ON">BẬT</option>
                            <option value="OFF">TẮT</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="reasonInput">Ghi chú:</label>
                        <input type="text" id="reasonInput" name="reasonInput" placeholder="Lý do điều khiển (tùy chọn)">
                    </div>
                    <button type="submit" class="btn-primary">Gửi lệnh</button>
                </form>
            </article>
        </section>
    </main>

    <!-- Hộp thoại chi tiết thiết bị -->
    <div id="deviceModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="deviceModalTitle">Chi tiết thiết bị</h2>
            <div id="deviceModalContent">
                <!-- Chi tiết thiết bị sẽ hiển thị tại đây -->
            </div>
        </div>
    </div>

    <script src="js/dashboard.js"></script>
</body>
</html>